<!DOCTYPE html>
<html>
<head>
  <title>MetaMask-like Interface</title>
  <style>
    /* CSS-Styling für das MetaMask-Interface */
    body {
      font-family: Arial, sans-serif;
      background-color: #f3f3f3;
      margin: 0;
      padding: 0;
    }

    .container {
      width: 400px;
      margin: 0 auto;
      padding: 20px;
      background-color: #ffffff;
      border: 1px solid #dddddd;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    h1 {
      text-align: center;
    }

    .coin {
      margin-top: 20px;
      text-align: center;
    }

    .coin-name {
      font-size: 24px;
      font-weight: bold;
      color: #333333;
    }

    .coin-price {
      font-size: 18px;
      color: #666666;
    }

    .wallet {
      margin-top: 20px;
      text-align: center;
    }

    .wallet-address {
      font-size: 16px;
      color: #333333;
      margin-bottom: 5px;
    }

    .secret-phrase {
      font-size: 14px;
      color: #666666;
    }

    .balance {
      margin-top: 10px;
      font-size: 14px;
      color: #333333;
    }

    .button {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: #8e44ad;
      color: #ffffff;
      text-decoration: none;
      border: none;
      cursor: pointer;
    }

    .button:hover {
      background-color: #7d3c98;
    }

    .receive-button {
      background-color: #9b59b6;
    }

    .receive-button:hover {
      background-color: #8e44ad;
    }

    .action-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    .action-button-label {
      font-size: 12px;
      color: #666666;
      margin-top: 5px;
      text-align: center;
    }

    .transaction-history {
      margin-top: 20px;
    }

    .transaction-history-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .transaction {
      margin-bottom: 5px;
    }

    /* Modernes Design für das Senden-Fenster */
    .send-window {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 300px;
      padding: 20px;
      background-color: #ffffff;
      border: 1px solid #dddddd;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      z-index: 9999;
    }

    .send-window h2 {
      margin-top: 0;
    }

    .send-window input[type="text"] {
      width: 100%;
      padding: 5px;
      margin-bottom: 10px;
    }

    .send-window button {
      display: block;
      width: 100%;
      padding: 10px;
      background-color: #8e44ad;
      color: #ffffff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .send-window button:hover {
      background-color: #7d3c98;
    }

    .confirmation {
      display: none;
      margin-top: 10px;
      padding: 10px;
      background-color: #f2f2f2;
      border: 1px solid #dddddd;
      border-radius: 5px;
    }

    .confirmation p {
      margin: 0;
      font-weight: bold;
      color: #333333;
    }

  </style>
  <script>
    var wallets = {};
    var hasCreatedWallet = false;

    // JavaScript-Code zur Generierung einer zufälligen Wallet-Adresse
    function generateRandomAddress() {
      var address = '0x';
      var characters = '0123456789ABCDEFabcdef';

      for (var i = 0; i < 32; i++) {
        address += characters.charAt(Math.floor(Math.random() * characters.length));
      }

      return address;
    }

    // JavaScript-Code zum Generieren einer Wallet
    function generateWallet() {
      // Überprüfe, ob bereits eine Wallet erstellt wurde
      if (hasCreatedWallet) {
        alert('Es wurde bereits eine Wallet erstellt!');
        return;
      }

      // Generiere eine zufällige Wallet-Adresse
      var address = generateRandomAddress();

      // Initialisiere den Kontostand mit 100 Coins
      wallets[address] = 100;

      // Aktualisiere die Anzeige der Wallet-Adresse und des Kontostands
      document.getElementById('addressInput').value = address;
      document.getElementById('balance').innerText = wallets[address] + ' Coins';

      hasCreatedWallet = true;
    }

    // JavaScript-Code zum Anzeigen des Senden-Fensters
    function openSendWindow() {
      document.getElementById('sendWindow').style.display = 'block';
    }

    // JavaScript-Code zum Schließen des Senden-Fensters
    function closeSendWindow() {
      document.getElementById('sendWindow').style.display = 'none';
    }

    // JavaScript-Code zum Senden von Coins
    function sendCoins() {
      var senderAddress = document.getElementById('addressInput').value;
      var receiverAddress = document.getElementById('receiverAddressInput').value;
      var coinQuantity = parseInt(document.getElementById('coinQuantityInput').value);

      // Überprüfe, ob der Sender genügend Coins hat
      if (coinQuantity > wallets[senderAddress]) {
        alert('Sie haben nicht genügend Coins auf Ihrem Konto!');
        return;
      }

      // Überprüfe, ob die Empfängeradresse gültig ist
      if (receiverAddress.length != 42 || !receiverAddress.startsWith('0x')) {
        alert('Ungültige Empfängeradresse!');
        return;
      }

      // Führe die Transaktion aus
      wallets[senderAddress] -= coinQuantity;
      wallets[receiverAddress] = wallets[receiverAddress] || 0;
      wallets[receiverAddress] += coinQuantity;

      // Aktualisiere die Anzeige des Kontostands
      document.getElementById('balance').innerText = wallets[senderAddress] + ' Coins';

      // Zeige die Bestätigungsnachricht an
      document.getElementById('confirmationText').innerText = 'Die Transaktion wurde erfolgreich durchgeführt. Sie haben ' + coinQuantity + ' Coins an ' + receiverAddress + ' gesendet.';
      document.getElementById('confirmation').style.display = 'block';
    }
  </script>
</head>
<body>
  <div class="container">
    <h1>MetaMask-like Interface</h1>

    <div class="coin">
      <div class="coin-name">RSHC</div>
      <div class="coin-price">$1.31</div>
    </div>

    <div class="wallet">
      <div class="wallet-address">Wallet-Adresse:</div>
      <textarea id="addressInput" rows="2" readonly></textarea>
      <div class="secret-phrase">Geheime Phrase: ***************</div>
      <div class="balance">Kontostand: <span id="balance">100 Coins</span></div>
    </div>

    <div class="action-buttons">
      <div>
        <button class="button" onclick="generateWallet()">Erstellen</button>
        <div class="action-button-label">Erstelle Wallet</div>
      </div>
      <div>
        <button class="button receive-button" onclick="displayWalletAddress()">+</button>
        <div class="action-button-label">Empfangen</div>
      </div>
    </div>

    <div class="transaction-history">
      <div class="transaction-history-title">Transaktionsverlauf</div>
      <div id="transactionHistory"></div>
    </div>

    <div id="sendWindow" class="send-window">
      <h2>Coins senden</h2>
      <input type="text" id="receiverAddressInput" placeholder="Empfängeradresse">
      <input type="text" id="coinQuantityInput" placeholder="Coin-Menge">
      <button onclick="sendCoins()">Transaktion senden</button>
      <button onclick="closeSendWindow()">Abbrechen</button>
    </div>

    <div id="confirmation" class="confirmation">
      <p id="confirmationText"></p>
    </div>
  </div>

  <script>
    // JavaScript-Code zur Anzeige der generierten Wallet-Adresse
    function displayWalletAddress() {
      var address = document.getElementById('addressInput').value;
      alert('Ihre generierte Wallet-Adresse lautet:\n' + address);
    }
  </script>
</body>
</html>
